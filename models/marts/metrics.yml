version: 2

# Simplified metrics for dbt Cloud compatibility
# These reference the semantic models defined in semantic_models.yml

metrics:
  - name: total_revenue
    label: "Total Revenue"
    description: "Sum of all order values from sales"
    type: simple
    type_params:
      measure: total_revenue

  - name: order_count_metric
    label: "Total Orders"
    description: "Count of all orders"
    type: simple
    type_params:
      measure: order_count

  - name: avg_order_value_metric
    label: "Average Order Value"
    description: "Average value per order"
    type: simple
    type_params:
      measure: average_order_value

  - name: unique_customers_metric
    label: "Unique Customers"
    description: "Number of unique customers"
    type: simple
    type_params:
      measure: unique_customers

  - name: revenue_per_customer
    label: "Revenue per Customer"
    description: "Average revenue per customer"
    type: ratio
    type_params:
      numerator: total_revenue
      denominator: unique_customers_metric